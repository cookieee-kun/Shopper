{"ast":null,"code":"import _defineProperty from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./AddProduct.css\";import upload_area from\"../Assets/upload_area.svg\";import{backend_url}from\"../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState({name:\"\",description:\"\",image:\"\",category:\"women\",new_price:\"\",old_price:\"\"}),_useState4=_slicedToArray(_useState3,2),productDetails=_useState4[0],setProductDetails=_useState4[1];var AddProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var dataObj,product,formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:product=productDetails;formData=new FormData();formData.append('product',image);_context.next=5;return fetch(\"\".concat(backend_url,\"/upload\"),{method:'POST',headers:{Accept:'application/json'},body:formData}).then(function(resp){return resp.json();}).then(function(data){dataObj=data;});case 5:if(!dataObj.success){_context.next=9;break;}product.image=dataObj.image_url;_context.next=9;return fetch(\"\".concat(backend_url,\"/addproduct\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(product)}).then(function(resp){return resp.json();}).then(function(data){data.success?alert(\"Product Added\"):alert(\"Failed\");});case 9:case\"end\":return _context.stop();}},_callee);}));return function AddProduct(){return _ref.apply(this,arguments);};}();var changeHandler=function changeHandler(e){setProductDetails(_objectSpread(_objectSpread({},productDetails),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:productDetails.name,onChange:function onChange(e){changeHandler(e);},placeholder:\"Type here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:productDetails.description,onChange:function onChange(e){changeHandler(e);},placeholder:\"Type here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"old_price\",value:productDetails.old_price,onChange:function onChange(e){changeHandler(e);},placeholder:\"Type here\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Offer Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"new_price\",value:productDetails.new_price,onChange:function onChange(e){changeHandler(e);},placeholder:\"Type here\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product category\"}),/*#__PURE__*/_jsxs(\"select\",{value:productDetails.category,name:\"category\",className:\"add-product-selector\",onChange:changeHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"women\",children:\"Women\"}),/*#__PURE__*/_jsx(\"option\",{value:\"men\",children:\"Men\"}),/*#__PURE__*/_jsx(\"option\",{value:\"kid\",children:\"Kid\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addproduct-itemfield\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Product image\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",children:/*#__PURE__*/_jsx(\"img\",{className:\"addproduct-thumbnail-img\",src:!image?upload_area:URL.createObjectURL(image),alt:\"\"})}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setImage(e.target.files[0]);},type:\"file\",name:\"image\",id:\"file-input\",accept:\"image/*\",hidden:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"addproduct-btn\",onClick:function onClick(){AddProduct();},children:\"ADD\"})]});};export default AddProduct;","map":{"version":3,"names":["React","useState","upload_area","backend_url","jsx","_jsx","jsxs","_jsxs","AddProduct","_useState","_useState2","_slicedToArray","image","setImage","_useState3","name","description","category","new_price","old_price","_useState4","productDetails","setProductDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dataObj","product","formData","wrap","_callee$","_context","prev","next","FormData","append","fetch","concat","method","headers","Accept","body","then","resp","json","data","success","image_url","JSON","stringify","alert","stop","apply","arguments","changeHandler","e","_objectSpread","_defineProperty","target","value","className","children","type","onChange","placeholder","htmlFor","src","URL","createObjectURL","alt","files","id","accept","hidden","onClick"],"sources":["/Users/piyush__ratan/WebD/Shopper/admin/src/Components/AddProduct/AddProduct.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"./AddProduct.css\";\r\nimport upload_area from \"../Assets/upload_area.svg\";\r\nimport { backend_url } from \"../../App\";\r\n\r\nconst AddProduct = () => {\r\n\r\n  const [image, setImage] = useState(false);\r\n  const [productDetails, setProductDetails] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    image: \"\",\r\n    category: \"women\",\r\n    new_price: \"\",\r\n    old_price: \"\"\r\n  });\r\n\r\n  const AddProduct = async () => {\r\n\r\n    let dataObj;\r\n    let product = productDetails;\r\n\r\n    let formData = new FormData();\r\n    formData.append('product', image);\r\n\r\n    await fetch(`${backend_url}/upload`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n      },\r\n      body: formData,\r\n    }).then((resp) => resp.json())\r\n      .then((data) => { dataObj = data });\r\n\r\n    if (dataObj.success) {\r\n      product.image = dataObj.image_url;\r\n      await fetch(`${backend_url}/addproduct`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(product),\r\n      })\r\n        .then((resp) => resp.json())\r\n        .then((data) => { data.success ? alert(\"Product Added\") : alert(\"Failed\") });\r\n\r\n    }\r\n  }\r\n\r\n  const changeHandler = (e) => {\r\n    setProductDetails({ ...productDetails, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  return (\r\n    <div className=\"addproduct\">\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product title</p>\r\n        <input type=\"text\" name=\"name\" value={productDetails.name} onChange={(e) => { changeHandler(e) }} placeholder=\"Type here\" />\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product description</p>\r\n        <input type=\"text\" name=\"description\" value={productDetails.description} onChange={(e) => { changeHandler(e) }} placeholder=\"Type here\" />\r\n      </div>\r\n      <div className=\"addproduct-price\">\r\n        <div className=\"addproduct-itemfield\">\r\n          <p>Price</p>\r\n          <input type=\"number\" name=\"old_price\" value={productDetails.old_price} onChange={(e) => { changeHandler(e) }} placeholder=\"Type here\" />\r\n        </div>\r\n        <div className=\"addproduct-itemfield\">\r\n          <p>Offer Price</p>\r\n          <input type=\"number\" name=\"new_price\" value={productDetails.new_price} onChange={(e) => { changeHandler(e) }} placeholder=\"Type here\" />\r\n        </div>\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product category</p>\r\n        <select value={productDetails.category} name=\"category\" className=\"add-product-selector\" onChange={changeHandler}>\r\n          <option value=\"women\">Women</option>\r\n          <option value=\"men\">Men</option>\r\n          <option value=\"kid\">Kid</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"addproduct-itemfield\">\r\n        <p>Product image</p>\r\n        <label htmlFor=\"file-input\">\r\n          <img className=\"addproduct-thumbnail-img\" src={!image ? upload_area : URL.createObjectURL(image)} alt=\"\" />\r\n        </label>\r\n        <input onChange={(e) => setImage(e.target.files[0])} type=\"file\" name=\"image\" id=\"file-input\" accept=\"image/*\" hidden />\r\n      </div>\r\n      <button className=\"addproduct-btn\" onClick={() => { AddProduct() }}>ADD</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}