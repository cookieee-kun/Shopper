{"ast":null,"code":"import _regeneratorRuntime from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/piyush__ratan/WebD/Shopper/admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./ListProduct.css\";import cross_icon from'../Assets/cross_icon.png';import{backend_url,currency}from\"../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListProduct=function ListProduct(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allproducts=_useState2[0],setAllProducts=_useState2[1];var fetchInfo=function fetchInfo(){fetch(\"\".concat(backend_url,\"/allproducts\")).then(function(res){return res.json();}).then(function(data){return setAllProducts(data);});};useEffect(function(){fetchInfo();},[]);var removeProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(backend_url,\"/removeproduct\"),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id})});case 2:fetchInfo();case 3:case\"end\":return _context.stop();}},_callee);}));return function removeProduct(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"listproduct\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Products List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"listproduct-format-main\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Products\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"Title\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"Old Price\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"New Price\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),\" \",/*#__PURE__*/_jsx(\"p\",{children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"listproduct-allproducts\",children:[/*#__PURE__*/_jsx(\"hr\",{}),allproducts.map(function(e,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listproduct-format-main listproduct-format\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"listproduct-product-icon\",src:backend_url+e.image,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{className:\"cartitems-product-title\",children:e.name}),/*#__PURE__*/_jsxs(\"p\",{children:[currency,e.old_price]}),/*#__PURE__*/_jsxs(\"p\",{children:[currency,e.new_price]}),/*#__PURE__*/_jsx(\"p\",{children:e.category}),/*#__PURE__*/_jsx(\"img\",{className:\"listproduct-remove-icon\",onClick:function onClick(){removeProduct(e.id);},src:cross_icon,alt:\"\"})]}),/*#__PURE__*/_jsx(\"hr\",{})]},index);})]})]});};export default ListProduct;","map":{"version":3,"names":["React","useEffect","useState","cross_icon","backend_url","currency","jsx","_jsx","jsxs","_jsxs","ListProduct","_useState","_useState2","_slicedToArray","allproducts","setAllProducts","fetchInfo","fetch","concat","then","res","json","data","removeProduct","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_callee$","_context","prev","next","method","headers","Accept","body","JSON","stringify","stop","_x","apply","arguments","className","children","map","e","index","src","image","alt","name","old_price","new_price","category","onClick"],"sources":["/Users/piyush__ratan/WebD/Shopper/admin/src/Components/ListProduct/ListProduct.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./ListProduct.css\";\r\nimport cross_icon from '../Assets/cross_icon.png'\r\nimport { backend_url, currency } from \"../../App\";\r\n\r\nconst ListProduct = () => {\r\n  const [allproducts, setAllProducts] = useState([]);\r\n\r\n  const fetchInfo = () => {\r\n    fetch(`${backend_url}/allproducts`)\r\n      .then((res) => res.json())\r\n      .then((data) => setAllProducts(data))\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchInfo();\r\n  }, [])\r\n\r\n  const removeProduct = async (id) => {\r\n    await fetch(`${backend_url}/removeproduct`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ id: id }),\r\n    })\r\n\r\n    fetchInfo();\r\n  }\r\n\r\n  return (\r\n    <div className=\"listproduct\">\r\n      <h1>All Products List</h1>\r\n      <div className=\"listproduct-format-main\">\r\n        <p>Products</p> <p>Title</p> <p>Old Price</p> <p>New Price</p> <p>Category</p> <p>Remove</p>\r\n      </div>\r\n      <div className=\"listproduct-allproducts\">\r\n        <hr />\r\n        {allproducts.map((e, index) => (\r\n          <div key={index}>\r\n            <div className=\"listproduct-format-main listproduct-format\">\r\n              <img className=\"listproduct-product-icon\" src={backend_url + e.image} alt=\"\" />\r\n              <p className=\"cartitems-product-title\">{e.name}</p>\r\n              <p>{currency}{e.old_price}</p>\r\n              <p>{currency}{e.new_price}</p>\r\n              <p>{e.category}</p>\r\n              <img className=\"listproduct-remove-icon\" onClick={() => { removeProduct(e.id) }} src={cross_icon} alt=\"\" />\r\n            </div>\r\n            <hr />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListProduct;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}